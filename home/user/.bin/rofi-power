icon="/usr/share/icons/Papirus-Dark/16x16" # Set icon path
res=$(echo -en " Reload\0icon\x1f$icon/actions/reload.svg| Lock\0icon\x1f$icon/apps/system-lock-screen.svg| Logout\0icon\x1f$icon/apps/system-log-out.svg| Shutdown\0icon\x1f$icon/apps/system-shutdown.svg| Reboot\0icon\x1f$icon/apps/system-reboot.svg" | rofi -sep "|" -dmenu -i -p 'Power Options' -font "FontAwesome 20") # Make selection prompt
wm=$(wmctrl -m | grep Name | cut -d: -f2)

if [ $res = "Reload" ]; then # If selection is reload

    dunstify 'Reloading config' -a Notification -i /usr/share/icons/Papirus-Dark/16x16/actions/reload.svg # Send notification
    sleep 1 # Wait

    if [ $wm = "bspwm" ]; then

        sh ~/.config/bspwm/bspwmrc # Reload bspwm

    elif [ $wm = "awesome" ]; then

        echo 'awesome.restart()' | awesome-client

    fi

elif [ $res = "Lock" ]; then # If selection is lock

    dunstify 'Locking screen' -a Notification -i /usr/share/icons/Papirus-Dark/16x16/apps/system-lock-screen.svg # Send notification
    sleep 1 # Wait
    ~/.bin/lock # Lock screen

elif [ $res = "Logout" ]; then # If selection is logout

    dunstify 'Logging out' -a Notification -i /usr/share/icons/Papirus-Dark/16x16/apps/system-log-out.svg # Send notification
    sleep 1  # Wait
    killall Xorg # Logout

elif [ $res = "Shutdown" ]; then # If selection is shutdown

    dunstify 'Shutting down' -a Notification -i /usr/share/icons/Papirus-Dark/16x16/apps/system-shutdown.svg # Send notification
    sleep 1 # Wait
    /sbin/systemctl poweroff # Poweroff

elif [ $res = "Reboot" ]; then # If selection is reboot

    dunstify 'Rebooting' -a Notification -i /usr/share/icons/Papirus-Dark/16x16/apps/system-reboot.svg # Send notification
    sleep 1 # Wait
    /sbin/systemctl reboot # Restart

fi

exit 0 # Return exit code 0
