<eww>
    <includes>
    </includes>
    <definitions>
        <def name="clock">
            <box>  {{clock}}</box>
        </def>
        <def name="weather">
            <box>摒  {{weather}}</box>
        </def>
        <def name="pfp"> 
            <box space-evenly="false" orientation="vertical">
                \n
            <image path="/home/matei/Pictures/pfp.png" width="150" height="150"/>
                \nHello, {{user}}\n{{packages}} packages are installed\nYou have {{update}} updates available\nYou are running {{kernel}}\n
            </box>
        </def>
        <def name="uptime">
            <box>  {{uptime}}</box>
        </def>
        <def name="cpu">
            <box>  {{cpu}}%</box>
        </def>
        <def name="memory">
            <box>﬙  {{memory}}</box>
        </def>
        <def name="disk">
            <box>  {{disk}}</box>
        </def>
        <def name="song">
            <box vexpand="false" hexpand="false">  {{song}}</box>
        </def>
    </definitions>
    <variables>
        <script-var name="kernel" interval="10m">uname -r</script-var>
        <script-var name="song" interval="500ms">mpc current</script-var>
        <script-var name="desktop" interval="1s">bspc query -D -d focused --names</script-var>
        <script-var name="volume" interval="1s">pamixer --get-volume</script-var>
        <script-var name="packages" interval="1s">paru -Q | wc -l</script-var>
        <script-var name="update" interval="30m">checkupdates | wc -l</script-var>
        <script-var name="disk" interval="30s">df -h / | awk '/\// {print $(NF-1)}'</script-var>
        <script-var name="cpu" interval="1s">LC_ALL=C top -bn1 | grep "Cpu(s)" | sed "s/.*, *\([0-9.]*\)%* id.*/\1/" | awk '{print 100 - $1}'</script-var>
        <script-var name="memory" interval="1s">free -m | awk 'NR==2{printf "%s/%s MB\n", $3,$2,$3*100/$2 }'</script-var>
        <script-var name="uptime" interval="1s">uptime -p | cut -b 4-999</script-var>
        <script-var name="user" interval="10m">echo $USER | sed -e "s/\b\(.\)/\u\1/g"</script-var>
        <script-var name="clock" interval="300ms">date +%H:%M:%S</script-var>
        <script-var name="weather" interval="5m">ansiweather -w false -h false -s false -d false -a false -l dubai -p false -i false | cut -c 20- | sed 's/.$//'</script-var>
    </variables>
    <windows>
        <window name="uptime" stacking="fg" focusable="false">
            <geometry anchor="center" x="50px" y="118px" width="350px" height="50px" />
            <widget>
                <uptime />
            </widget>
        </window>
        <window name="song" stacking="fg" focusable="false">
            <geometry anchor="center" x="-60px" y="190px" width="575px" height="50px" />
            <widget>
                <song />
            </widget>
        </window>
        <window name="pfp" stacking="fg" focusable="false">
            <geometry anchor="center" x="50px" y="-100px"
            width="350px" height="320px"/>
            <widget>
                <pfp />
            </widget>
        </window>
        <window name="clock" stacking="fg" focusable="false">
            <geometry anchor="center" x="-250px" y="-242px"
            width="200px" height="70px" />
            <widget>
                <clock />
            </widget>
        </window>
        <window name="weather" stacking="fg" focusable="false">
            <geometry anchor="center" x="-250px" y="-152px"
            width="200px" height="70px" />
            <widget>
                <weather />
            </widget>
        </window>
        <window name="cpu" stacking="fg" focusable="false">
            <geometry anchor="center" x="-250px" y="-62px"
            width="200px" height="70px" />
            <widget>
                <cpu />
            </widget>
        </window>
        <window name="memory" stacking="fg" focusable="false">
            <geometry anchor="center" x="-250px" y="23px"
            width="200px" height="70px" />
            <widget>
                <memory />
            </widget>
        </window>
        <window name="disk" stacking="fg" focusable="false">
            <geometry anchor="center" x="-250px" y="108px"
            width="200px" height="70px" />
            <widget>
                <disk />
            </widget>
        </window>
    </windows>
</eww>
